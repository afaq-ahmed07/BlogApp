<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head') %>
    <title>Blogify - My Blogs</title>
</head>

<body class="bg-light">
    <%- include('./partials/navbar') %>

    <!-- Hero Section -->
    <div class="bg-dark text-white text-center py-5 mb-4">
        <h1 class="fw-bold">My Blogs</h1>
    </div>

    <!-- Blog Feed -->
    <div class="container">
        <div class="row g-4">
            <% if (blogs && blogs.length > 0) { %>
                <% blogs.forEach(blog => { %>
                    <div class="col-md-6 col-lg-4">
                        <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden">
                            <!-- Cover Image -->
                            <img src="/<%= blog.coverImageURL %>" class="card-img-top" alt="Blog Cover"
                                style="height: 200px; object-fit: cover;">

                            <div class="card-body d-flex flex-column">
                                <!-- Title -->
                                <h5 class="card-title fw-bold text-dark">
                                    <%= blog.title %>
                                </h5>

                                <!-- Blog Excerpt -->
                                <p class="card-text text-muted" style="flex-grow:1;">
                                    <%= blog.body.length > 100 ? blog.body.substring(0, 100) + "..." : blog.body %>
                                </p>

                                <!-- Read More -->
                                <a href="/blog/<%= blog._id %>" class="btn btn-outline-primary mt-auto w-100 fw-semibold">
                                    Read More â†’
                                </a>
                            </div>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <div class="text-center text-muted py-5">
                    <h4>No blogs available yet</h4>
                    <p>Be the first one to share your thoughts!</p>
                    <% if (locals.user) { %>
                        <a href="/blog/add-new" class="btn btn-primary mt-3">Create Your First Blog</a>
                    <% } else { %>
                        <a href="/user/signup" class="btn btn-primary mt-3">Join Blogify</a>
                    <% } %>
                </div>
            <% } %>
        </div>
    </div>
    <%- include('./partials/footer') %>
    <%- include('./partials/script') %>
</body>

</html>
