<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head') %>
        <title>Add New Blog - Blogify</title>
</head>

<body class="bg-light">
    <%- include('./partials/navbar') %>

        <div class="container d-flex justify-content-center align-items-start mt-5">
            <div class="card shadow p-4 rounded-4 w-100" style="max-width: 720px;">
                <!-- Page Heading -->
                <div class="text-center mb-4">
                    <h2 class="fw-bold text-dark">Create a New Blog</h2>
                    <p class="text-muted mb-0">Share your story, thoughts, and ideas with the world.</p>
                </div>

                <!-- Blog Form -->
                <form action="/blog" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>

                    <!-- Cover Image -->
                    <div class="mb-3">
                        <label for="coverImage" class="form-label fw-semibold">Cover Image</label>
                        <input class="form-control" type="file" id="coverImage" name="coverImage" accept="image/*">
                        <div class="form-text">Upload an attractive image to represent your blog.</div>
                    </div>

                    <!-- Title -->
                    <div class="mb-3">
                        <label for="title" class="form-label fw-semibold">Blog Title</label>
                        <input type="text" class="form-control" id="title" name="title"
                            placeholder="Enter a catchy title" required>
                        <div class="invalid-feedback">Please enter a blog title.</div>
                    </div>

                    <!-- Body -->
                    <div class="mb-3">
                        <label for="body" class="form-label fw-semibold">Blog Content</label>
                        <textarea class="form-control" id="body" rows="8" name="body"
                            placeholder="Write your blog content here..." required></textarea>
                        <div class="invalid-feedback">Blog content cannot be empty.</div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-flex justify-content-between">
                        <a href="/" class="btn btn-outline-secondary px-4">Cancel</a>
                        <button type="submit" class="btn btn-primary px-4 fw-semibold">Publish</button>
                    </div>
                </form>
            </div>
        </div>

        <%- include('./partials/script') %>
        <%- include('./partials/footer') %>


            <script>
                // Bootstrap form validation
                (function () {
                    'use strict'
                    const forms = document.querySelectorAll('.needs-validation')
                    Array.from(forms).forEach(form => {
                        form.addEventListener('submit', event => {
                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                            }
                            form.classList.add('was-validated')
                        }, false)
                    })
                })()
            </script>
</body>

</html>